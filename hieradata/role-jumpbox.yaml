classes:
    - 'graphite'
    - 'jenkins'
    - 'performanceplatform::deploy'
    - 'python'
    - 'nginx::server'
    - 'rsyslog::server'

graphite::gr_apache_port:       9080
graphite::gr_apache_port_https: 9443

jenkins::version: 1.518
jenkins::plugin_hash:
    git-client:
        version: "1.0.6"
    git:
        version: "1.4.0"
    github:
        version: "1.6"
    github-api:
        version: "1.34"
    multiple-scms:
        version: "0.2"
    saferestart:
        version: "0.3"
    role-strategy:
        version: "1.1.2"
    greenballs:
        version: "1.12"

python::version:    '2.7'
python::dev:        true
python::virtualenv: true

rsyslog::server::server_dir: '/srv/log/'

ufw_rules:
    allowcarbonfromanywhere:
        port: 2003
        ip:   'any'
    allowhttpfromall:
        port: 80
        ip:   'any'
    allowhttpsfromall:
        port: 443
        ip:   'any'
    allowsshfromanywhere:
        port: 22
        ip:   'any'
    allowsyslogfromanywhere:
        port: 514
        ip:   'any'

vhost_proxies:
    deploy-vhost:
        servername:      "%{::deploy_vhost}"
        ssl:             true
        ssl_redirect:    true
        upstream_server: 'localhost'
        upstream_port:   8080
    graphite-vhost:
        servername:      "%{::graphite_vhost}"
        ssl:             true
        ssl_redirect:    true
        upstream_server: 'localhost'
        upstream_port:   9080
        magic: |
            auth_basic "Enter username/password";
            auth_basic_user_file /etc/nginx/htpasswd.pp;
